ПАРСЕР РЕКЛАМНЫХ КОМПАНИЙ РОССИИ

Программа автоматически собирает данные о рекламных компаниях России: контакты, ИНН, выручку и фильтрует компании с выручкой свыше 200 млн рублей.

БЫСТРЫЙ ЗАПУСК

Установите Python 3.8+

Установите зависимости:
pip install playwright beautifulsoup4 playwright-stealth
playwright install chromium

Скачайте ТОЛЬКО файлы программы(в остальных лежит результат выборки):

ppap.py (основной скрипт)

revenue.py (модуль поиска выручки)

Поместите их в одну папку

Запустите:
python ppap.py

Получите результат:

companies_export.csv — компании с выручкой >200 млн руб.

companies_stage1.json — полная база всех компаний

КАК ЭТО РАБОТАЕТ

ШАГ 1: СБОР БАЗОВОГО СПИСКА КОМПАНИЙ

Программа парсит сайт alladvertising.ru

Собирает топ-100 рекламных компаний Москвы и Санкт-Петербурга

Извлекает: название, сегмент (AGENCY/MEDIA/OTHER), контакты, email, сайт, рейтинг PPAP

Результат: JSON-файл с 100+ компаний

ШАГ 2: ПОИСК ИНН КОМПАНИЙ

Для каждой компании ищет ИНН через поисковые системы

Использует Google, Yandex, Yahoo с рандомными задержками

Запрос: "рекламная компания {название} ИНН"

Результат: База пополняется ИНН для 70-80% компаний

ШАГ 3: ПОИСК ФИНАНСОВЫХ ДАННЫХ

Для компаний с ИНН ищет данные о выручке

Основной источник: list-org.com

Резервный источник: companies.rbc.ru

Извлекает год и сумму выручки через регулярные выражения

Результат: Данные о выручке для 60-70% компаний

ШАГ 4: ФИЛЬТРАЦИЯ И ЭКСПОРТ

Фильтрует компании с выручкой >200 млн рублей

Формирует CSV-файл с полной информацией

Итог: Готовый список крупнейших рекламных компаний

ОТЧЁТ ПО МЕТОДОЛОГИИ

ИСТОЧНИКИ ДАННЫХ

Основные:

alladvertising.ru — рейтинг PPAP-2025 (стартовый список компаний)

Поисковые системы — Google, Yandex, Yahoo (поиск ИНН)

list-org.com — финансовая отчетность компаний

companies.rbc.ru — альтернативный источник финансовых данных

ПОЧЕМУ ВЫБРАНЫ ЭТИ КАТЕГОРИИ?

PPAP-2025 как стартовая точка:

Наиболее авторитетный отраслевой рейтинг

Охватывает ключевые сегменты: BTL, сувенирная продукция, ивенты

Дает валидированный список лидеров рынка

Сегменты AGENCY/MEDIA/OTHER:

Взяты напрямую из классификации alladvertising.ru

Соответствуют отраслевой практике

Позволяют анализировать рынок по специализациям

КАК ОПРЕДЕЛЯЛИСЬ "ПОЛНЫЙ ЦИКЛ" И "BTL"?

Критерии отбора:

Сегментная принадлежность: Из тегов alladvertising.ru

Описания компаний: Анализ страниц "Услуги" на сайтах компаний

Рейтинг PPAP: Само участие подтверждает BTL-специализацию

Ключевые слова: В описаниях ищутся "BTL", "ивенты", "промо", "сувениры"

МЕТОДОЛОГИЯ СБОРА ВЫРУЧКИ

Двухуровневая система:

Первичный сбор: list-org.com (официальная отчетность)

Резервный сбор: companies.rbc.ru (агрегированные данные)

Валидация: Сверка года отчетности и формата суммы

Порог фильтрации:

200 млн рублей — стандартный порог для среднего+ бизнеса

Соответствует критериям "крупных" рекламных агентств

Исключает мелкие студии и фрилансеров

ПРОИЗВОДИТЕЛЬНОСТЬ

Текущее время выполнения: 10-15 минут
Обрабатывает: ~100 компаний
Успешность сбора ИНН: 70-80%
Успешность сбора выручки: 60-70%

Основные ограничения:

Поисковые системы блокируют частые запросы

Финансовые данные доступны не для всех компаний

Некоторые сайты используют защиту от парсинга

Потенциал улучшения:

API поисковиков: сокращение до 1-2 минут

Прокси-серверы: обход блокировок

Расширение базы: до 1000+ компаний по всем регионам

ВЫХОДНЫЕ ДАННЫЕ

companies_stage1.json
Полная база всех собранных компаний:

name: Название компании

segment_tag: AGENCY

inn: 1234567890

contacts: +7 (XXX) XXX-XX-XX

email: contact@company.ru

site: https://company.ru

rating_PPAP: 85

detail_url: https://alladvertising.ru/company/

of_name: ООО 'Компания'

revenue_year: 2023

revenue: 450000000

companies_export.csv
Фильтрованный список компаний с выручкой >200 млн:

Название и официальное название

ИНН, контакты, email, сайт

Год и сумма выручки

Сегмент и рейтинг PPAP

Источники данных

РАСШИРЕНИЕ ФУНКЦИОНАЛЬНОСТИ

Программа легко масштабируется:

Больше регионов: Добавьте URL других городов в alladvertising

Больше тегов: Парсинг по всем категориям вместо топ-100

API интеграция: Замените парсинг поисковиков на Google/Yandex API

Дополнительные данные: ОКВЭД, число сотрудников, соцсети

Мониторинг: Ежеквартальное обновление данных

ВАЖНЫЕ ЗАМЕЧАНИЯ

Юридический аспект: Все данные из открытых источников

Актуальность: Данные на момент парсинга

Ограничения: Некоторые компании могут не публиковать отчетность

Точность: Рекомендуется ручная проверка для критически важных задач

ИСПОЛЬЗОВАНИЕ ИСКУССТВЕННОГО ИНТЕЛЛЕКТА:

При разработке этой программы использовался искусственный интеллект (DeepSeek) для следующих задач:

ОПТИМИЗАЦИЯ КОДА

Переименование функций в соответствии с PEP8

Улучшение читаемости и структуры кода

ДОКУМЕНТАЦИЯ

Создание структурированного README

Формулировка методологии и подходов

Описание архитектуры программы

ИИ использовался как инструмент для ускорения разработки и повышения качества кода, позволяя сосредоточиться на бизнес-логике и методологии сбора данных.
